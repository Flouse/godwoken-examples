(this["webpackJsonp@godwoken-examples/client"]=this["webpackJsonp@godwoken-examples/client"]||[]).push([[0],{25:function(t,e,n){"use strict";(function(t){var r=n(34),a=n.n(r),c=n(28);e.a={convertTimestamp:function(t){return"string"===typeof t?new Date(parseInt(t)).toLocaleTimeString():new Date(t).toLocaleTimeString()},hex2dec:function(t){return BigInt(t).toString(10)},dec2hex:function(t){return BigInt(t).toString(16)},shannon2CKB:function(t){return a.a.divide(a.a.BigInt(t),a.a.BigInt(1e8)).toString(10)},CKB2shannon:function(t){return BigInt(t).toString(10)+"00000000"},isObjectInArray:function(t,e){for(var n=0;n<e.length;n++)if(JSON.stringify(e[n])===JSON.stringify(t))return!0;return!1},arrayBufferToBuffer:function(e){for(var n=t.alloc(e.byteLength),r=new Uint8Array(e),a=0;a<n.length;++a)n[a]=r[a];return n},get_env_mode:function(){return"development"===c.mode?"development":"production"}}}).call(this,n(87).Buffer)},28:function(t){t.exports=JSON.parse('{"development_server_url":"http://localhost:6101","production_server_url":"https://your.domain","mode":"development"}')},318:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(21),o=n.n(c),s=(n(66),n(60)),i=n(6),u=n(22),d=n(3),l=n.n(d),p=n(4),f=n(9),b=n(11),h=(n(68),n(13)),x=n(20),g=n(8),j=n.n(g),v=n(28),O=n(25);j.a.defaults.withCredentials=!0;var y=function(){function t(){Object(h.a)(this,t),this.base_url=void 0,this.base_url="development"===O.a.get_env_mode()?v.development_server_url:v.production_server_url}return Object(x.a)(t,[{key:"getRollupTypeHash",value:function(){var t=Object(p.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("".concat(this.base_url,"/get_rollup_type_hash"),{params:{}});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getEthAccountLockConfig",value:function(){var t=Object(p.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("".concat(this.base_url,"/get_eth_acccount_lock"),{params:{}});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getBalance",value:function(){var t=Object(p.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("".concat(this.base_url,"/get_layer2_balance"),{params:{eth_address:e}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getSudtBalance",value:function(){var t=Object(p.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("".concat(this.base_url,"/get_layer2_sudt_balance"),{params:{eth_address:e}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"issueToken",value:function(){var t=Object(p.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("".concat(this.base_url,"/issue_token"),{params:{}});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"deposit",value:function(){var t=Object(p.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("".concat(this.base_url,"/deposit"),{params:{eth_address:e}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"deposit_sudt",value:function(){var t=Object(p.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("".concat(this.base_url,"/deposit_sudt"),{params:{eth_address:e}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"transfer",value:function(){var t=Object(p.a)(l.a.mark((function t(e,n,r,a){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.post("".concat(this.base_url,"/transfer"),{data:{to_id:e,amount:n,fee:r,eth_address:a}});case 2:return c=t.sent,t.abrupt("return",c.data);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n,r,a){return t.apply(this,arguments)}}()},{key:"deployContract",value:function(){var t=Object(p.a)(l.a.mark((function t(e,n){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.post("".concat(this.base_url,"/deploy_contract"),{data:{contract_code:e,eth_address:n}});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"deployErc20ProxyContract",value:function(){var t=Object(p.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.post("".concat(this.base_url,"/deploy_erc20_proxy_contract"),{data:{eth_address:e}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"deploySudtContract",value:function(){var t=Object(p.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.post("".concat(this.base_url,"/deploy_sudt_contract"),{data:{}});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"sendL2Transaction",value:function(){var t=Object(p.a)(l.a.mark((function t(e,n,r,a){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.post("".concat(this.base_url,"/send_l2_tx"),{data:{raw_l2tx:e,signature:n,type:r,l2_script_args:a}});case 2:return c=t.sent,t.abrupt("return",c.data);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n,r,a){return t.apply(this,arguments)}}()},{key:"getTransactionReceipt",value:function(){var t=Object(p.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("".concat(this.base_url,"/get_tx_receipt"),{params:{tx_hash:e}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getContractAddrByAccountId",value:function(){var t=Object(p.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("".concat(this.base_url,"/get_contract_addr_by_account_id"),{params:{account_id:e}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),m={page:{maxWidth:"700px",margin:"atuo",textAlign:"center"},content:{width:"100%",marginTop:"20px",textAlign:"left"},main_color:{color:"#3CC68A"},background_color:{color:"#282c34"},wide_card:{padding:"10px",textAlign:"left"},wide_card_title:{color:"#3CC68A",textAlign:"center"},blockquote:{background:"#f9f9f9",borderLeft:"10px solid #3CC68A",margin:"1.5em 10px",padding:"1em 2em",color:"black"},clear_path:{clear:"both"},li:{listStyleType:"none",marginLeft:"0"},ul:{listStyleType:"none",paddingLeft:"0"},status_bar:{width:"100%",padding:"5px",margin:"10px 0px",clear:"both",justifyContent:"center"},status_bar_title:{float:"left",fontSize:"16px",fontWeight:"bolder"},status_bar_btn:{float:"right",textAlign:"center",marginRight:"20px"},modal:{maxWidth:"700px",maxHeight:"80%",overflowY:"scroll",padding:"20px",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto"},paper:{backgroundColor:"gray",border:"2px solid #000",boxShadow:"10px",padding:"10px",width:"100%",outline:"none"},hidden_btn:{width:"100%",border:"0",backgroundColor:"rgb(0,0,0, 0)",height:"0",cursor:"auto"},single_line_code:{background:"white",color:"gray",padding:"2px",borderRadius:"5px"},explain_text:{fontSize:"14px",color:"gray",margin:"20px"},input_wrap:{padding:"2px 5px",marginBottom:"10px",display:"block",background:"white"},input:{width:"100%",outline:"none",fontSize:"14px",border:"0",overflowX:"scroll",verticalAlign:"text-bottom"},describe_img_wrapper:{maxWidth:"100px",margin:"40px auto"},describe_img:{width:"100%",height:"100%",background:"#282c34"},describe_img_footnote:{textAlign:"center",fontSize:"11px"}},_=n(30),k=(n(91),n(2)),w=Object(b.a)(Object(b.a)({},m),{loader:{border:"4px solid rgba(60, 198, 138, 0.2)",borderLeft:"4px solid",animation:"load 1s infinite linear",borderRadius:"50%",width:"25px",height:"25px",margin:"0 auto"},btn:{padding:"0.5rem 1rem",fontSize:"12px",color:"white",borderRadius:"6px",border:"1px solid "+m.main_color.color,outline:"none",backgroundColor:"rgb(255,255,255, 0)",cursor:"pointer"},btndiv:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},btn_hover:{padding:"0.5rem 1rem",fontSize:"12px",color:"white",borderRadius:"6px",border:"1px solid "+m.main_color.color,outline:"none",backgroundColor:m.main_color.color,cursor:"pointer"}}),S=function(){return Object(k.jsx)("div",{style:w.loader})};function C(t){var e=Object(r.useState)(0),n=Object(f.a)(e,2),a=n[0],c=(n[1],Object(r.useState)(0)),o=Object(f.a)(c,2),s=o[0],i=(o[1],Object(r.useRef)(null)),u=void 0===t.isLoading,d=Object(r.useState)(!1),h=Object(f.a)(d,2),x=h[0],g=h[1],j=Object(r.useState)(!u&&t.isLoading),v=Object(f.a)(j,2),O=v[0],y=v[1],m=Object(r.useState)(!1),C=Object(f.a)(m,2),A=C[0],J=C[1],N=function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u&&y(!0),e.next=3,t.onClick();case 3:u&&y(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){if(void 0!==t.isLoading&&y(t.isLoading),O&&g(!0),!O&&x){var e=setTimeout((function(){g(!1)}),400);return function(){clearTimeout(e)}}}),[t.isLoading,O,x]);var B=Object(_.b)({opacity:x?1:0}),T=Object(_.b)({opacity:x?0:1}),L=function(){J(!A)},I=a&&s?{width:"".concat(a,"px"),height:"".concat(s,"px")}:{},R=A?w.btn_hover:w.btn,E=Object(b.a)(Object(b.a)({},R),I),P="undefined"===t.custom_style?{}:t.custom_style,z=Object(b.a)(Object(b.a)({},E),P);return Object(k.jsx)("button",{style:z,onClick:N,onMouseEnter:L,onMouseLeave:L,ref:i,children:x?Object(k.jsx)(_.a.div,{style:B,children:Object(k.jsx)(S,{})}):Object(k.jsx)(_.a.div,{style:T,children:t.text})})}var A=n(23),J=(n(93),n(94),Object(b.a)(Object(b.a)({},m),{panel:{},toast:{padding:"10px",fontSize:"14px"}}));function N(){return Object(k.jsx)("div",{children:Object(k.jsx)(A.a,{style:J.panel,toastStyle:J.toast})})}var B=function(t,e){switch(e){case"error":A.b.error(t);break;case"success":A.b.success(t);break;case"warning":A.b.warn(t);break;case"info":A.b.info(t);break;case"dark":A.b.dark(t);break;default:A.b.error(t)}},T=n(336),L=n(337),I=n(335),R=Object(b.a)(Object(b.a)({},m),{header:{minHeight:"300px",margin:"10px"},address:{color:"#a0eec0"},balance:{color:"whitesmoke"},button:{fontSize:"25px",width:"100%",maxWidth:"700px",margin:"10px",padding:"0.7rem 1.2rem"},contract_container:{width:"100%",maxWidth:"700px",margin:"30px auto",textAlign:"left",fontSize:"15px",border:"1px solid gray",color:"gray"},contract_li:{listStyleType:"none"}});var E=function(){var t=Object(r.useRef)(null),e=Object(r.useState)(),n=Object(f.a)(e,2),a=n[0],c=n[1],o=Object(r.useState)("0"),s=Object(f.a)(o,2),i=s[0],d=s[1],b=Object(r.useState)("0"),h=Object(f.a)(b,2),x=h[0],g=h[1],j=Object(r.useState)(!1),v=Object(f.a)(j,2),m=v[0],_=v[1],w=Object(r.useState)([]),S=Object(f.a)(w,2),A=S[0],J=S[1],E=Object(r.useState)(),P=Object(f.a)(E,2),z=P[0],D=P[1],H=Object(r.useState)(),K=Object(f.a)(H,2),W=K[0],q=K[1];Object(r.useEffect)((function(){window.ethereum&&(window.ethereum.request({method:"eth_requestAccounts"}),c(window.ethereum.selectedAddress)),Y(),U()}),[]),Object(r.useEffect)((function(){a&&(F(),M())}),[a]),window.ethereum.on("accountsChanged",(function(t){c(t[0])}));var F=function(){var t=Object(p.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return e=new y,t.prev=3,t.next=6,e.getBalance(a);case 6:if("ok"===(n=t.sent).status){t.next=9;break}return t.abrupt("return",B("failed to get balance from account. ".concat(JSON.stringify(n.error))));case 9:return t.next=11,d(O.a.shannon2CKB(n.data));case 11:console.log(O.a.shannon2CKB(n.data)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),B(JSON.stringify(t.t0));case 17:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(){return t.apply(this,arguments)}}(),M=function(){var t=Object(p.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return e=new y,t.prev=3,t.next=6,e.getSudtBalance(a);case 6:if("ok"===(n=t.sent).status){t.next=9;break}return t.abrupt("return",B("failed to get sudt balance from account. ".concat(JSON.stringify(n.error))));case 9:return t.next=11,g(O.a.shannon2CKB(n.data));case 11:console.log(O.a.shannon2CKB(n.data)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),B(JSON.stringify(t.t0));case 17:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(){return t.apply(this,arguments)}}(),Y=function(){var t=Object(p.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new y,t.prev=1,t.next=4,e.getRollupTypeHash();case 4:if("ok"===(n=t.sent).status){t.next=7;break}return t.abrupt("return",B("failed to get rollup type hash. ".concat(JSON.stringify(n.error))));case 7:D(n.data),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),B(JSON.stringify(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}(),U=function(){var t=Object(p.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new y,t.prev=1,t.next=4,e.getEthAccountLockConfig();case 4:if("ok"===(n=t.sent).status){t.next=7;break}return t.abrupt("return",B("failed to get eth_account_lock config. ".concat(JSON.stringify(n.error))));case 7:q(n.data),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),B(JSON.stringify(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}(),X=function(){var t=Object(p.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",B("metamask account not found."));case 2:return e=new y,t.prev=3,t.next=6,e.deposit(a);case 6:if(n=t.sent,console.log(n),"ok"!==n.status){t.next=14;break}return B("your account id: ".concat(n.data.account_id),"success"),t.next=12,F();case 12:t.next=15;break;case 14:B(JSON.stringify(n.error));case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(3),B(JSON.stringify(t.t0));case 20:case"end":return t.stop()}}),t,null,[[3,17]])})));return function(){return t.apply(this,arguments)}}(),G=function(){var t=Object(p.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",B("metamask account not found."));case 2:return e=new y,t.prev=3,t.next=6,e.deposit_sudt(a);case 6:if(n=t.sent,console.log(n),"ok"!==n.status){t.next=15;break}return B("your account id: ".concat(n.data.account_id),"success"),console.log("res.data.l2_sudt_script_hash: ".concat(n.data.l2_sudt_script_hash)),t.next=13,M();case 13:t.next=16;break;case 15:B(JSON.stringify(n.error));case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(3),B(JSON.stringify(t.t0));case 21:case"end":return t.stop()}}),t,null,[[3,18]])})));return function(){return t.apply(this,arguments)}}(),Q=function(){var t=Object(p.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new y,t.prev=1,t.next=4,e.deploySudtContract();case 4:n=t.sent,console.log(n),"ok"===n.status?B("ok","success"):B(JSON.stringify(n.error,null,2)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),B(JSON.stringify(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}(),V=function(){var t=Object(p.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new y,t.prev=1,t.next=4,e.issueToken();case 4:n=t.sent,console.log(n),"ok"===n.status?B("issue a sudt token: ".concat(n.data.sudt_token),"success"):B(JSON.stringify(n.error,null,2)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),B(JSON.stringify(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}(),Z=function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",B("input ref not found."));case 2:t.current.click();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var t=Object(p.a)(l.a.mark((function t(e){var n,r,c,o,s,i,d,p,f;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",B("upload contract binary file first!"));case 2:if(a){t.next=4;break}return t.abrupt("return",B("window.ethereum.selectedAddress not found."));case 4:return n=new y,t.prev=5,t.next=8,n.deployContract(e,window.ethereum.selectedAddress);case 8:if("ok"===(r=t.sent).status){t.next=11;break}return t.abrupt("return",B(JSON.stringify(r)));case 11:return c=r.data,console.log(JSON.stringify(c,null,2)),t.prev=13,o={nonce:"0x0",gasPrice:"0x9184e72a000",gas:"0x2710",to:"0x",from:window.ethereum.selectedAddress,value:"0x00",data:e,chainId:"0x3"},t.next=17,window.ethereum.request({method:"eth_sendTransaction",params:[o]});case 17:return s=t.sent,console.log("txHash: ".concat(s)),t.next=21,n.getTransactionReceipt(s);case 21:return i=t.sent,console.log("txReceipt: ".concat(JSON.stringify(i,null,2))),d=i.data.logs[0].account_id,console.log("account_id: ".concat(d)),t.next=27,n.getContractAddrByAccountId(d);case 27:if(p=t.sent,console.log(p),"ok"===p.status){t.next=31;break}return t.abrupt("return",B(p.error));case 31:f=p.data,console.log("contract address: ".concat(f)),B("your contract address: ".concat(f),"success"),J((function(t){return[].concat(Object(u.a)(t),[f])})),t.next=41;break;case 37:return t.prev=37,t.t0=t.catch(13),console.log(t.t0),t.abrupt("return",B("could not finished signing process. \n\n ".concat(JSON.stringify(t.t0))));case 41:t.next=46;break;case 43:t.prev=43,t.t1=t.catch(5),B(JSON.stringify(t.t1));case 46:case"end":return t.stop()}}),t,null,[[5,43],[13,37]])})));return function(e){return t.apply(this,arguments)}}(),tt=function(){var t=Object(p.a)(l.a.mark((function t(e){var n,r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.target.files[0],_(!0),t.next=4,nt(n);case 4:if("ok"===(r=t.sent).status){t.next=8;break}return _(!1),t.abrupt("return",B("can not read contract code from file."));case 8:return a=r.data,console.log("reading contract code hex:"),console.log(a),t.next=14,$(a);case 14:_(!1);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),et=function(){var t=Object(p.a)(l.a.mark((function t(){var e,n,r,c,o,s,i,d,p;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",B("window.ethereum.selectedAddress not found."));case 2:return e=new y,t.prev=3,t.next=6,e.deployErc20ProxyContract(a);case 6:return"ok"!==(n=t.sent).status&&B(JSON.stringify(n.error,null,2)),r=n.data,console.log(JSON.stringify(r,null,2)),t.prev=10,c={nonce:"0x0",gasPrice:"0x9184e72a000",gas:"0x2710",to:"0x",from:window.ethereum.selectedAddress,value:"0x00",data:r,chainId:"0x3"},t.next=14,window.ethereum.request({method:"eth_sendTransaction",params:[c]});case 14:return o=t.sent,console.log("txHash: ".concat(o)),t.next=18,e.getTransactionReceipt(o);case 18:return s=t.sent,console.log("txReceipt: ".concat(JSON.stringify(s,null,2))),i=s.data.logs[0].account_id,console.log("account_id: ".concat(i)),t.next=24,e.getContractAddrByAccountId(i);case 24:if(d=t.sent,console.log(d),"ok"===d.status){t.next=28;break}return t.abrupt("return",B(d.error));case 28:p=d.data,console.log("contract address: ".concat(p)),B("your contract address: ".concat(p),"success"),J((function(t){return[].concat(Object(u.a)(t),[p])})),t.next=38;break;case 34:return t.prev=34,t.t0=t.catch(10),console.log(t.t0),t.abrupt("return",B("could not finished signing process. \n\n ".concat(JSON.stringify(t.t0))));case 38:t.next=43;break;case 40:t.prev=40,t.t1=t.catch(3),B(JSON.stringify(t.t1));case 43:case"end":return t.stop()}}),t,null,[[3,40],[10,34]])})));return function(){return t.apply(this,arguments)}}(),nt=function(t){return new Promise((function(e,n){var r=new FileReader;r.onload=function(t){var n="0x".concat(t.target.result);e({status:"ok",data:n})},r.onerror=function(t){e({status:"failed",error:t})},r.onabort=function(){e({status:"failed",error:"user abort."})},r.readAsBinaryString(t)}))};return"\n  const godwoken_rpc_url = 'http://127.0.0.1:8024';\n  const provider_config =  {\n    godwoken: {\n        rollup_type_hash: \"".concat(z,'",\n        eth_account_lock: {\n            code_hash: "').concat(null===W||void 0===W?void 0:W.code_hash,'",\n            hash_type: "').concat(null===W||void 0===W?void 0:W.hash_type,'"\n        }\n    }\n  }\n  const provider = new PolyjuiceHttpProvider(godwoken_rpc_url, provider_config);\n  const web3 = new Web3(provider);\n                  '),Object(k.jsx)("div",{children:Object(k.jsx)("div",{className:"App",children:Object(k.jsxs)("header",{className:"App-header",children:[Object(k.jsx)(N,{}),Object(k.jsx)(T.a,{container:!0,spacing:3,children:Object(k.jsxs)(T.a,{item:!0,xs:12,style:R.header,children:[Object(k.jsxs)("h3",{children:["Your EthAddress: ",a," "]}),Object(k.jsxs)("div",{children:["Balance: ",Object(k.jsxs)("span",{style:R.balance,children:[i," CKB "]})]})]})}),Object(k.jsx)(T.a,{container:!0,spacing:3,children:Object(k.jsx)(T.a,{item:!0,xs:12,children:Object(k.jsx)(C,{text:"Deposit CKB",onClick:X,custom_style:R.button})})}),Object(k.jsx)(T.a,{container:!0,spacing:3,children:Object(k.jsxs)(T.a,{item:!0,xs:12,children:[Object(k.jsx)(C,{text:"Deploy ETH Contract",isLoading:m,onClick:Z,custom_style:R.button}),Object(k.jsx)("input",{type:"file",ref:t,onChange:tt,hidden:!0})]})}),Object(k.jsx)("hr",{}),Object(k.jsx)("h2",{children:"test Sudt Section: "}),Object(k.jsx)(T.a,{container:!0,spacing:3,children:Object(k.jsx)(T.a,{item:!0,xs:12,children:Object(k.jsxs)("div",{children:["Balance: ",Object(k.jsxs)("span",{style:R.balance,children:[x," Sudt "]})]})})}),Object(k.jsx)(T.a,{container:!0,spacing:3,children:Object(k.jsx)(T.a,{item:!0,xs:12,children:Object(k.jsx)(C,{text:"Deploy L1 Sudt Contract",onClick:Q,custom_style:R.button})})}),Object(k.jsx)(T.a,{container:!0,spacing:3,children:Object(k.jsx)(T.a,{item:!0,xs:12,children:Object(k.jsx)(C,{text:"Issue Sudt Token",onClick:V,custom_style:R.button})})}),Object(k.jsx)(T.a,{container:!0,spacing:3,children:Object(k.jsx)(T.a,{item:!0,xs:12,children:Object(k.jsx)(C,{text:"Deposit Sudt",onClick:G,custom_style:R.button})})}),Object(k.jsx)(T.a,{container:!0,spacing:3,children:Object(k.jsx)(T.a,{item:!0,xs:12,children:Object(k.jsx)(C,{text:"Deploy L2 Erc20-Proxy Contract",onClick:et,custom_style:R.button})})}),Object(k.jsx)("hr",{}),Object(k.jsx)(T.a,{container:!0,spacing:3,children:Object(k.jsxs)(T.a,{item:!0,xs:12,style:R.contract_container,children:["Contract Address:",Object(k.jsx)(L.a,{language:"javascript",style:I.a,children:A.join("\n")})]})})]})})})};function P(){return Object(k.jsx)(s.a,{children:Object(k.jsx)(i.c,{children:Object(k.jsx)(i.a,{path:"/",children:Object(k.jsx)(E,{})})})})}var z=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,338)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,o=e.getTTFB;n(t),r(t),a(t),c(t),o(t)}))};o.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(P,{})}),document.getElementById("root")),z()},66:function(t,e,n){},68:function(t,e,n){},91:function(t,e,n){},94:function(t,e,n){}},[[318,1,2]]]);
//# sourceMappingURL=main.582cdccf.chunk.js.map